emis_line + geom_point(lm= 'smooth') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
e = emissions
View(e)
e$quintile <- ntile(e$"2018" , 5)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission')
quints_grouped = select(quints, -1:-4)
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, group = quintile, color = quintile))
emis_line + geom_point(lm= 'smooth') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
?arrange
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
quints_grouped = select(quints, -1:-4)
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, group = quintile, color = quintile))
emis_line + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, color = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))+
scale_color_manual(values = c("red", 'green'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))+
scale_color_manual(values = c("red", 'green'))
library(wesanderson)
install.packages(wesanderson)
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))+
scale_color_brewer(palett = "Dark2")
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))+
scale_color_brewer(palett = "Dark2")
?theme_Set
?theme_set
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
runApp()
## Build Population Scatter Plots
population <- fread("./population.csv" , header = T)
scatter + geom_point() + ggtitle("Population Over Time")+ theme(plot.title = element_text(hjust = 0.5))
## Build Population Scatter Plots
population <- fread("./population.csv" , header = T)
scatter_pop = population %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'population') %>%
pivot_longer(cols = country_name, values_to = 'country') %>%
filter(country == "United States")
scatter = ggplot(data = x , aes(x = year, y = population))
scatter + geom_point() + ggtitle("Population Over Time")+ theme(plot.title = element_text(hjust = 0.5))
## Build Population Scatter Plots
population <- fread("./population.csv" , header = T)
scatter_pop = population %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'population') %>%
pivot_longer(cols = country_name, values_to = 'country') %>%
filter(country == "United States")
View(scatter_pop)
View(scatter_pop)
runApp()
scatter = ggplot(data = scatter_pop , aes(x = year, y = population))
scatter + geom_point() + ggtitle("Population Over Time")+ theme(plot.title = element_text(hjust = 0.5))
## Build Population Scatter Plots
population <- fread("./population.csv" , header = T)
scatter_pop = population %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'population') %>%
pivot_longer(cols = country_name, values_to = 'country') %>%
filter(country == "United States")
scatter = ggplot(data = scatter_pop , aes(x = year, y = population))
scatter + geom_point() + ggtitle("Population Over Time")+ theme(plot.title = element_text(hjust = 0.5))
scatter_pop[,5] = sapply(scatter_pop[,5],as.numeric)
scatter = ggplot(data = scatter_pop , aes(x = year, y = population))
scatter + geom_point() + ggtitle("Population Over Time")+ theme(plot.title = element_text(hjust = 0.5))
runApp()
quints_grouped %>%
filter(year = '2018')
v = quints_grouped %>%
filter(year = '2018')
v = quints_grouped %>%
filter(year = '2018')
v = quints_grouped %>%
filter(year = '2018')
v = quints_grouped %>%
filter(year == '2018')
View(v)
v = quints_grouped %>%
filter(year == '2018') %>%
group_by(quintile)
View(v)
v = quints_grouped %>%
filter(year == '2018') %>%
select(quintile, -c(year))
v = quints_grouped %>%
filter(year == '2018') %>%
select(quintile, -c(year)) %>%
group_by(quintile)
View(v)
View(quints_grouped)
v = quints_grouped %>%
group_by(quintile) %>%
mutate(percent_of_emission = emission/sum(emission))
View(V0)
View(v)
View(v)
runApp()
runApp()
g+ geom_bar(aes(y = emission, color = 'blue'),stat = 'identity') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))+
ggtitle("World Carbon Emission Output (Kt) by Year") + theme(plot.title = element_text(hjust = 0.5))
renewable <- fread("./renewable_energy.csv" , header = T)
renewable <- fread("./renewable_energy.csv" , header = T)
View(renewable)
View(renewable)
###Renewable energy -------
ren = renewable %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'Percent Renewable Energy') %>%
pivot_longer(cols = country_name, values_to = 'country')
View(ren)
###Renewable energy -------
ren = renewable %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'pct_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_bar_chart = ggplot(data = ren, aes(x = year, y =pct_renewable ))
renew_bar_chart + geom_bar(stat = 'summary', fun.y = 'mean')
renew_bar_chart + geom_bar(stat = 'summary', fun.y = 'mean') +
scale_x_discrete(name = "Year", limits = c('1985' ,'1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart + geom_bar(stat = 'summary', fun.y = 'mean') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart + geom_bar(stat = 'summary', fun.y = 'sum') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart = ggplot(data = ren, aes(x = year, y =pct_renewable ))
renew_bar_chart + geom_bar(stat = 'summary', fun.y = 'sum') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% group_by(quints)
quints_grouped = select(quints, -1:-4)
emis_line = ggplot(data = quints_grouped, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits =c('2018'))
#### Create quartile information and graph -------------------
e = emissions
View(e)
#### Create quartile information and graph -------------------
e = emissions
View(e)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
View(quints)
quints_grouped = select(quints, -1:-4)
View(quints_grouped)
#### Create quartile information and graph -------------------
e = emissions
View(e)
e$quintile <- ntile(e$"2018" , 5)
View(e)
quints = e %>% group_by(quintile) %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
View(quints)
#### Create quartile information and graph -------------------
e = emissions
View(e)
#### Create quartile information and graph -------------------
e = emissions
View(e)
e$quintile <- ntile(e$"2018" , 5)
e = select(e, -1:-4)
View(e)
quints = e %>% group_by(quintile) %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
View(quints)
quints = e %>% group_by(quintile, year) %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
View(quints)
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
###Renewable energy -------
ren = renewable %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'pct_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_bar_chart = ggplot(data = ren, aes(x = year, y =pct_renewable ))
renew_bar_chart + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart = ggplot(data = ren, aes(x = year, y =pct_renewable ))
renew_bar_chart + geom_bar(stat = 'summary', fun ='mean') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
###Renewable energy -------
ren = renewable %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'pct_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
View(ren)
renew_kwh <- fread("./total_renewable_kwh.csv" , header = T) # <- Total energy (KwH) that comes from renewable sources
###Renewable energy -------
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
###Renewable energy -------
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
View(ren)
del(ren)
delete(ren)
Delete(ren)
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
###Renewable energy -------
ren = ''
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
emissions <- read.csv(file = "./co2_emissions.csv")
emissions <- fread("./co2_emissions.csv", header=T)
renewable <- fread("./renewable_energy.csv" , header = T) # <- % of total energy that comes from renewable sources
renew_kwh <- fread("./total_renewable_kwh.csv" , header = T) # <- Total energy (KwH) that comes from renewable sources
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
class(emissions$year)
class(emission$year)
class(emissions$year)
View(renew_kwh)
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_kwh <- lapply(renew_kwh, as.numeric)
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_kwh <- sapply(renew_kwh, as.numeric)
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_kwh <- fread("./total_renewable_kwh.csv" , header = T) # <- Total energy (KwH) that comes from renewable sources
renew_kwh[,5:26] = sapply(renew_kwh[,5:26],as.numeric)
renew_kwh[,5] = sapply(renew_kwh[,5],as.numeric)
for (x in 5:26){
renew_kwh[,x] = sapply(renew_kwh[,x],as.numeric)
}
renew_kwh[,x] = sapply(renew_kwh[,x],as.numeric)
renew_kwh[,5] = sapply(renew_kwh[,5], as.numeric)
renew_kwh[,x] = sapply(renew_kwh[,x], as.numeric)
renew_kwh[,5:26] = sapply(renew_kwh[,5:26], as.numeric)
renew_kwh$i = as.numeric(renew_kwh$i)
renew_kwh$i = as.numeric(renew_kwh$i)
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
renew_kwh$i = sapply(renew_kwh[,i], as.numeric) #as.numeric(renew_kwh$i)
renew_kwh <- fread("./total_renewable_kwh.csv" , header = T) # <- Total energy (KwH) that comes from renewable sources
renew_kwh <- fread("./total_renewable_kwh.csv" , header = T) # <- Total energy (KwH) that comes from renewable sources
ren = renew_kwh %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'kwh_renewable') %>%
pivot_longer(cols = country_name, values_to = 'country')
View(ren)
renew_bar_chart = ggplot(data = ren, aes(x = year, y =kwh_renewable ))
renew_bar_chart + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2018'))
renew_bar_chart + geom_bar(stat = 'identity') +
scale_x_discrete(name = "Year", limits = c('1990',
'1995', '2000','2005','2010','2015'))
runApp()
#### Create quartile information and graph -------------------
e = emissions
View(e)
View(e)
View(e)
e$quintile <- ntile(e$"2018" , 5)
View(e)
quints = e %>% group_by(quintile, year) %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = quintile))
quints = e %>% group_by(quintile, year) %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018")
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = quintile))
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
View(quints)
emis_line + geom_bar(stat = 'identity', position = 'dodge2') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('2010','2018'))
emis_line = ggplot(data = quints, aes(x = year, y = emission, fill = as.factor(quintile)))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year", limits = c('2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = na.omit(quints), aes(x = year, y = emission, fill = as.factor(quintile)))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
runApp()
emis_line + geom_bar(stat = 'identity', position = 'dodge', las = 1) +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = na.omit(quints), aes(x = year, y = emission, fill = as.factor(quintile)))
emis_line + geom_bar(stat = 'identity', position = 'dodge', las = 1) +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line = ggplot(data = na.omit(quints), aes(x = year, y = emission, fill = as.factor(quintile)))
emis_line + geom_bar(stat = 'identity', position = 'dodge', las = 1) +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018'))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Year",limits = c('1960','1965', '1970',
'1975', '1980','1985' ,'1990',
'1995', '2000','2005','2010','2018')) + coord_flip()
runApp()
e = emissions
e$quintile <- ntile(e$"2018" , 5)
e = select(e, -1:-4)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(qunitile == 5)%>% filter(year == input$year)
emis_line = ggplot(data = na.omit(quints), aes(x = country_name, y = emission))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Country") + coord_flip()
e = emissions
e$quintile <- ntile(e$"2018" , 5)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(qunitile == 5)%>% filter(year == input$year)
emis_line = ggplot(data = na.omit(quints), aes(x = country_name, y = emission))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Country") + coord_flip()
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(qunitile == 5)%>% filter(year == input$year) %>%
arrange(desc(emissions)) %>% slice(1:10)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(quartile == 5)%>% filter(year == input$year) %>%
arrange(desc(emissions)) %>% slice(1:10)
e = emissions
e$quintile <- ntile(e$"2018" , 5)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(quintile == 5)%>% filter(year == input$year) %>%
arrange(desc(emissions)) %>% slice(1:10)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(quintile == 5)%>% filter(year == "input$year"=="2012") %>%
arrange(desc(emissions)) %>% slice(1:10)
emis_line = ggplot(data = na.omit(quints), aes(x = country_name, y = emission))
emis_line + geom_bar(stat = 'identity', position = 'dodge') +
scale_y_discrete(name = 'CO2 Emissions (kt)')+
scale_x_discrete(name = "Country") + coord_flip()
e = emissions
e$quintile <- ntile(e$"2018" , 5)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(quintile == 5)%>% filter(year == "input$year"=="2012") %>%
arrange(desc(emissions)) %>% slice(1:10)
View(e)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
arrange("2018") %>% filter(quintile == 5)%>% filter(year == "input$year"=="2012")
View(quints)
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>% filter(quintile == 5)%>% filter(year == "input$year"=="2012") %>%
arrange(emission)
%>%
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
filter(quintile == 5)%>% filter(year == "input$year"=="2012") %>%
arrange()
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
filter(quintile == 5)%>% filter(year == "input$year"=="2012")
quints = e %>%
pivot_longer(cols = (starts_with('19') | starts_with('20')), names_to = 'year' , values_to = 'emission') %>%
filter(quintile == 5)%>% filter(year == "2012")
View(quints)
runApp()
View(e)
View(e)
View(ren)
runApp()
e = emissions
e$quintile <- ntile(e$"2018" , 5)
e = select(e, -1:-4)
